from posixpath import split
import json

with open('Recipes.json', "r", encoding='utf-8') as f:
    recipes_json = json.load(f)

recipes = recipes_json["Recipes"]

def match_recipes_list_to_the_user_list_UserOption1(a_user_list):
  list_to_offer = []

  for d in recipes:
    ings = d["Ingredients"]  
    for item in ings:
      x = True
      if item in a_user_list:
        continue
      else:
        x = False
        break
    if x == True:  
      list_to_offer.append(d)
  
  dict_to_offer ={}
  for i in range(len(list_to_offer)):
    dict_to_offer[i+1] = list_to_offer[i]
  return dict_to_offer


def take_user_input():
    while True:
      input_values = input("what's cookin, good lookin. what's edable in your kitchen? ")
      if not input_values :
        continue
      input_values = input_values.split(",")
      formated_input_values = [i.strip() for i in input_values]
      return formated_input_values


def main():
  user_input_list = take_user_input()

  if user_input_list[0] == "nothing": 
    print("I'm afraid you need to get something delivered!")
  else:
    output = match_recipes_list_to_the_user_list_UserOption1(user_input_list)
    if(len(output) == 0):
      print("really! that's all?? look in your cabinets! THIS IS NOT ENOUGH!")
    
    else:
      # print(output)
      for key,values in output.items():
        print("\n")
        print(f"Dish Name #{str(key)}: {values['Name'].capitalize()} \n")
        print("Dish ingredients:" + str(values['Ingredients'])+ "\n")
        print(f"Video link: {values['Video_link']} \n")
        print("Instructions to follow: " + values['Instructions']+ "\n")
        print("Enjoy your meal. ")

main()